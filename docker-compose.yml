version: "3.9"
services:
  fphp-workshop:
    build:
      context: .
      dockerfile: ./docker/Dockerfile
    environment:
      - PROJECT_ROOT=/app
      - DOCUMENT_ROOT=/app/public
      - APP_ENV=local
      - APP_DEBUG=true
    ports:
      - "4043:443"
    volumes:
      - ./src:/app:rw
      - ./docker/Caddyfile:/etc/caddy/Caddyfile:rw
      - caddy_data:/data/caddy
      - caddy_config:/config/caddy
volumes:
  caddy_data:
      driver: local
  caddy_config:
      driver: local